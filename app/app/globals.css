@import "tailwindcss";

:root {
  --bg: #141b2f;
  --panel: #1f2a47;
  --panel-alt: #111a31;
  --ink: #e8f0ff;
  --line: #8db6ff;
  --accent: #56f6ff;
  --danger: #ff7aa2;
  --good: #79ffa1;
  --font-display: "Orbitron", "Eurostile", "Arial Black", sans-serif;
  --font-mono: "Space Mono", "Courier New", "Lucida Console", monospace;
}

* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  width: 100%;
  height: 100%;
  color: var(--ink);
  background: #0a1020;
  font-family: var(--font-mono), monospace;
  overflow: hidden;
}

#app {
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: min(100vw, 100vh);
  height: min(100vw, 100vh);
  background: var(--bg);
  border: 3px solid var(--line);
  background-image:
    linear-gradient(0deg, rgba(0, 0, 0, 0.18) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 0, 0, 0.18) 1px, transparent 1px),
    radial-gradient(circle at 30% 20%, #2c3d68 0%, #151c30 58%, #0a1020 100%);
  background-size: 8px 8px, 8px 8px, 100% 100%;
  display: grid;
  grid-template-rows: repeat(5, minmax(0, 1fr));
  gap: 6px;
  padding: 8px;
}

.info {
  grid-row: 1 / 2;
  border: 2px solid #5d7dc0;
  background: var(--panel-alt);
  padding: 5px 6px;
  display: grid;
  grid-template-rows: auto auto auto auto;
  gap: 4px;
  min-height: 0;
}

.topbar {
  background: var(--panel);
  border: 2px solid var(--line);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 4px 6px;
}

.topbar h1 {
  margin: 0;
  font-family: var(--font-display), monospace;
  font-size: clamp(0.62rem, 1.8vmin, 0.86rem);
  letter-spacing: 0.08em;
  line-height: 1;
  text-shadow: 2px 2px 0 #0d1430;
}

.topbar-actions {
  display: flex;
  align-items: center;
  gap: 8px;
}

#wallet-adapter-button,
.wallet-adapter-button {
  height: auto;
  min-height: 24px;
  border: 2px solid var(--ink);
  border-radius: 0;
  background: #223665;
  color: var(--ink);
  font-family: var(--font-mono), monospace;
  font-size: 11px;
  line-height: 1.1;
  padding: 4px 8px;
}

#restart {
  border: 2px solid var(--ink);
  background: #314675;
  color: var(--ink);
  font: inherit;
  font-size: clamp(0.54rem, 1.6vmin, 0.72rem);
  padding: 2px 6px;
  cursor: pointer;
}

#restart:disabled {
  opacity: 0.6;
  cursor: default;
}

#menu-play {
  border: 2px solid var(--ink);
  background: #314675;
  color: var(--ink);
  font: inherit;
  font-size: clamp(0.54rem, 1.6vmin, 0.72rem);
  padding: 4px 8px;
  cursor: pointer;
}

#menu-back,
#tx-toggle {
  border: 2px solid var(--ink);
  background: #223665;
  color: var(--ink);
  font: inherit;
  font-size: clamp(0.54rem, 1.6vmin, 0.72rem);
  padding: 4px 8px;
  cursor: pointer;
}

#tx-toggle[aria-pressed="false"] {
  background: #43243a;
  border-color: #ffb6cd;
}

#menu-play:disabled {
  opacity: 0.6;
  cursor: default;
}

#menu-back:disabled,
#tx-toggle:disabled {
  opacity: 0.6;
  cursor: default;
}

.wallet-btn {
  border: 2px solid var(--ink);
  background: #223665;
  color: var(--ink);
  font: inherit;
  font-size: clamp(0.54rem, 1.6vmin, 0.72rem);
  padding: 2px 6px;
  cursor: pointer;
}

.wallet-btn:disabled {
  opacity: 0.6;
  cursor: default;
}

#status {
  min-height: 1em;
  color: var(--accent);
  font-size: clamp(0.5rem, 1.5vmin, 0.74rem);
  line-height: 1.1;
  white-space: normal;
  overflow-wrap: anywhere;
}

.stats-row {
  display: flex;
  justify-content: space-between;
  gap: 6px;
  font-size: clamp(0.5rem, 1.5vmin, 0.72rem);
  line-height: 1;
}

#progress {
  margin-left: auto;
}

.error {
  color: var(--danger);
  font-size: clamp(0.45rem, 1.3vmin, 0.62rem);
  line-height: 1.1;
  white-space: normal;
  overflow-wrap: anywhere;
}

#board {
  grid-row: 2 / 6;
  border: 2px solid #5d7dc0;
  background: linear-gradient(180deg, #121c34 0%, #0c1327 100%);
  padding: 6px;
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  grid-template-rows: repeat(4, minmax(0, 1fr));
  gap: 4px;
  min-height: 0;
  position: relative;
}

.menu-screen {
  grid-column: 1 / -1;
  grid-row: 1 / -1;
  width: 100%;
  height: 100%;
  max-height: none;
  border: 2px solid #86a5ef;
  background: linear-gradient(180deg, #182746 0%, #0f1931 100%);
  padding: 16px;
  display: grid;
  grid-template-rows: repeat(7, auto);
  gap: 12px;
  align-content: start;
  overflow: auto;
}

.menu-screen h2 {
  margin: 0;
  font-family: var(--font-display), monospace;
  font-size: clamp(0.9rem, 2.8vmin, 1.32rem);
  letter-spacing: 0.08em;
  color: var(--accent);
}

.menu-screen p {
  margin: 0;
  font-size: clamp(0.64rem, 1.9vmin, 0.9rem);
  line-height: 1.3;
  color: #d7e5ff;
}

.deposit-key {
  display: block;
  border: 2px solid #5d7dc0;
  background: #0d1730;
  color: #b7d8ff;
  padding: 10px;
  font-size: clamp(0.62rem, 1.8vmin, 0.82rem);
  line-height: 1.3;
  word-break: break-all;
  align-self: stretch;
}

.menu-switch {
  border: 2px solid #5d7dc0;
  padding: 8px 10px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  background: #121f3f;
}

.menu-switch > span {
  font-size: clamp(0.6rem, 1.8vmin, 0.84rem);
  color: #d7e5ff;
  letter-spacing: 0.04em;
}

.toggle-help {
  margin-top: -4px;
  color: #a9bee8;
}

.end-screen {
  grid-template-rows: repeat(6, auto);
  place-content: center;
}

.card {
  border: 2px solid #86a5ef;
  background: #20345d;
  color: var(--ink);
  min-width: 0;
  display: grid;
  place-items: center;
  font: inherit;
  font-size: clamp(0.75rem, 2.5vmin, 1.1rem);
  font-weight: 700;
  letter-spacing: 0.04em;
  text-shadow: 1px 1px 0 #0f1833;
  cursor: pointer;
  position: relative;
  padding: 0;
  width: 100%;
  height: 100%;
}

.card > span {
  position: static;
}

.card.hidden {
  background: repeating-linear-gradient(
    45deg,
    #20345d 0,
    #20345d 6px,
    #1a2b4e 6px,
    #1a2b4e 12px
  );
}

.card.cursor {
  border-color: #f7fdff;
  box-shadow: inset 0 0 0 2px #ffffff80;
}

.card.revealed {
  color: #0d1430;
  text-shadow: none;
}

.card.matched {
  border-color: var(--good);
  box-shadow: inset 0 0 0 2px #163626;
}

.card:disabled {
  opacity: 0.95;
  cursor: default;
}

.hint {
  border: 2px solid #5d7dc0;
  background: var(--panel-alt);
  color: #bdcbef;
  font-size: clamp(0.46rem, 1.35vmin, 0.62rem);
  text-align: center;
  padding: 2px 4px;
  line-height: 1.1;
  white-space: normal;
  overflow-wrap: anywhere;
}

@media (max-width: 520px), (max-height: 520px) {
  #app {
    padding: 6px;
    gap: 4px;
  }

  #board {
    gap: 3px;
    padding: 4px;
  }

  .topbar {
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
  }
}
